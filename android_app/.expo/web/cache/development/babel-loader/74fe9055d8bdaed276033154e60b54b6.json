{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _axios = _interopRequireDefault(require(\"axios\"));\n\nvar _constants = require(\"../../constants.js\");\n\nvar _naslovnaDuks = _interopRequireDefault(require(\"../static/naslovna-duks.png\"));\n\nvar _reactRouterDom = require(\"react-router-dom\");\n\nvar _Order = _interopRequireDefault(require(\"../components/Order\"));\n\nvar _ModalDialog = _interopRequireDefault(require(\"../components/ModalDialog\"));\n\nvar _DeliveryInsert = _interopRequireDefault(require(\"../components/DeliveryInsert\"));\n\nvar _GetHeader = _interopRequireDefault(require(\"../../GetHeader\"));\n\nvar _moment = _interopRequireDefault(require(\"moment\"));\n\nvar _reactNativePaper = require(\"react-native-paper\");\n\nvar _reactNative = require(\"react-native\");\n\nvar _syncStorage = _interopRequireDefault(require(\"sync-storage\"));\n\nvar _jsxFileName = \"C:\\\\Users\\\\Luna\\\\Desktop\\\\Diplomski\\\\Android\\\\android_app\\\\src\\\\pages\\\\AllOrders.js\";\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _createForOfIteratorHelperLoose(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (it) return (it = it.call(o)).next.bind(it); if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; return function () { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nvar AllOrders = function (_Component) {\n  (0, _inherits2.default)(AllOrders, _Component);\n\n  var _super = _createSuper(AllOrders);\n\n  function AllOrders() {\n    var _this;\n\n    (0, _classCallCheck2.default)(this, AllOrders);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      reservations: [],\n      openModal: false,\n      openModal2: false,\n      openModal3: false,\n      couriers: [],\n      selectedCourier: \"\",\n      selectedOrder: \"\"\n    };\n\n    _this.handleColorChange = function (e) {\n      var u = [];\n\n      _this.setState({\n        selectedCourier: e\n      }, function () {\n        console.log(_this.state);\n      });\n    };\n\n    _this.hasRole = function (reqRole) {\n      var roles = JSON.parse(_syncStorage.default.get(\"keyRole\"));\n      if (roles === null) return false;\n      if (reqRole === \"*\") return true;\n\n      for (var _iterator = _createForOfIteratorHelperLoose(roles), _step; !(_step = _iterator()).done;) {\n        var role = _step.value;\n        if (role === reqRole) return true;\n      }\n\n      return false;\n    };\n\n    _this.handleModalClose = function () {\n      _this.setState({\n        openModal: false,\n        redirect: false\n      });\n    };\n\n    _this.handleModalClose2 = function () {\n      _this.setState({\n        openModal2: false,\n        redirect: false\n      });\n    };\n\n    _this.handleRemove = function (e, reservation) {\n      _axios.default.get(_constants.BASE_URL + \"/api/reservations/remove/\" + reservation.reservationId).then(function (res) {\n        console.log(\"USPELOOOOOOOOO\");\n        alert(\"You have succesfully removed order.\");\n      }).catch(function (err) {\n        console.log(err);\n      });\n    };\n\n    _this.handleQR = function (e, reservation) {\n      _this.setState({\n        selectedOrder: reservation\n      });\n\n      _this.setState({\n        openModal3: true\n      });\n    };\n\n    _this.send = function (e, courier, order) {\n      console.log(\"flskfksehhke\");\n      var id = \"\";\n\n      _this.state.couriers.forEach(function (cour) {\n        if (cour.company === courier) {\n          id = cour.id;\n        }\n      });\n\n      _axios.default.get(_constants.BASE_URL + \"/api/reservations/generateQR/\" + order.reservationId + \"/\" + id).then(function (res) {\n        console.log(res.data);\n        alert(\"You have successfully sent an order.\");\n      }).catch(function (err) {\n        console.log(err);\n      });\n    };\n\n    return _this;\n  }\n\n  (0, _createClass2.default)(AllOrders, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      if (!this.hasRole(\"ROLE_USER\")) {\n        this.setState({\n          redirect: true\n        });\n      } else {\n        _axios.default.get(_constants.BASE_URL + \"/api/reservations/allUser\", {\n          validateStatus: function validateStatus() {\n            return true;\n          },\n          headers: {\n            Authorization: (0, _GetHeader.default)()\n          }\n        }).then(function (res) {\n          _this2.setState({\n            reservations: res.data\n          });\n\n          console.log(res.data);\n        }).catch(function (err) {\n          console.log(err);\n        });\n      }\n\n      if (!this.hasRole(\"ROLE_ADMIN\")) {\n        this.setState({\n          redirect: true\n        });\n      } else {\n        _axios.default.get(_constants.BASE_URL + \"/api/reservations/all\", {\n          validateStatus: function validateStatus() {\n            return true;\n          },\n          headers: {\n            Authorization: (0, _GetHeader.default)()\n          }\n        }).then(function (res) {\n          _this2.setState({\n            reservations: res.data\n          });\n\n          console.log(res.data);\n        }).catch(function (err) {\n          console.log(err);\n        });\n      }\n\n      if (!this.hasRole(\"ROLE_ADMIN\")) {\n        this.setState({\n          redirect: true\n        });\n      } else {\n        _axios.default.get(_constants.BASE_URL + \"/api/reservations/couriers\", {\n          validateStatus: function validateStatus() {\n            return true;\n          },\n          headers: {\n            Authorization: (0, _GetHeader.default)()\n          }\n        }).then(function (res) {\n          console.log(\"EEEEEE\");\n\n          _this2.setState({\n            couriers: res.data\n          });\n\n          console.log(res.data);\n        }).catch(function (err) {\n          console.log(err);\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      _moment.default.locale('en');\n\n      var dt = '2016-05-02';\n      return _react.default.createElement(_reactNative.View, {\n        style: styles.container,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 13\n        }\n      }, _react.default.createElement(_reactNative.ScrollView, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 17\n        }\n      }, _react.default.createElement(_reactNativePaper.DataTable, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 21\n        }\n      }, this.state.reservations.map(function (reservation) {\n        return _react.default.createElement(_reactNative.View, {\n          key: reservation.user,\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 29\n          }\n        }, _react.default.createElement(_reactNative.Image, {\n          style: styles.image,\n          source: {\n            uri: reservation.files[0]\n          },\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 33\n          }\n        }), !_this3.hasRole(\"ROLE_USER\") && _react.default.createElement(_reactNative.View, {\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 65\n          }\n        }, _react.default.createElement(_reactNative.Text, {\n          style: {\n            fontWeight: 'bold'\n          },\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 37\n          }\n        }, \"STATUS: \"), _react.default.createElement(_reactNative.Text, {\n          style: {\n            backgroundColor: \"#E8E8E8\",\n            height: 25\n          },\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 37\n          }\n        }, \" \", reservation.status)), _react.default.createElement(_reactNative.View, {\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 178,\n            columnNumber: 33\n          }\n        }, _react.default.createElement(_reactNative.Text, {\n          style: {\n            fontWeight: 'bold'\n          },\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 179,\n            columnNumber: 37\n          }\n        }, \"Date of reservation: \"), _react.default.createElement(_reactNative.Text, {\n          style: {\n            backgroundColor: \"#E8E8E8\",\n            height: 25\n          },\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 37\n          }\n        }, \" \", (0, _moment.default)(reservation.dateOfReservation, \"YYYYMMDD\").format('MMMM Do YYYY'), \" \")), _react.default.createElement(_reactNative.View, {\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 33\n          }\n        }, _react.default.createElement(_reactNative.Text, {\n          style: {\n            fontWeight: 'bold'\n          },\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 37\n          }\n        }, \"Due date: \"), _react.default.createElement(_reactNative.Text, {\n          style: {\n            backgroundColor: \"#E8E8E8\",\n            height: 25\n          },\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 37\n          }\n        }, (0, _moment.default)(reservation.dueDate, \"YYYYMMDD\").format('MMMM Do YYYY'), \" \")), !_this3.hasRole(\"ROLE_USER\") && _react.default.createElement(_reactNative.View, {\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 64\n          }\n        }, _react.default.createElement(_reactNative.Text, {\n          style: {\n            fontWeight: 'bold'\n          },\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 37\n          }\n        }, \"User: \"), _react.default.createElement(_reactNative.Text, {\n          style: {\n            backgroundColor: \"#E8E8E8\",\n            height: 25\n          },\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 38\n          }\n        }, reservation.user)), !_this3.hasRole(\"ROLE_USER\") && _react.default.createElement(_reactNative.View, {\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 65\n          }\n        }, _react.default.createElement(_reactNative.Text, {\n          style: {\n            fontWeight: 'bold'\n          },\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 191,\n            columnNumber: 37\n          }\n        }, \"Contact number: \"), _react.default.createElement(_reactNative.Text, {\n          style: {\n            backgroundColor: \"#E8E8E8\",\n            height: 25\n          },\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 37\n          }\n        }, \" \", reservation.phone)), _react.default.createElement(_reactNative.View, {\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 33\n          }\n        }, _react.default.createElement(_reactNative.Text, {\n          style: {\n            fontWeight: 'bold'\n          },\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 37\n          }\n        }, \"Item type: \"), _react.default.createElement(_reactNative.Text, {\n          style: {\n            backgroundColor: \"#E8E8E8\",\n            height: 25\n          },\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 37\n          }\n        }, reservation.itemType, \" \")), _react.default.createElement(_reactNative.View, {\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 33\n          }\n        }, _react.default.createElement(_reactNative.Text, {\n          style: {\n            fontWeight: 'bold'\n          },\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 37\n          }\n        }, \"Item gender: \"), _react.default.createElement(_reactNative.Text, {\n          style: {\n            backgroundColor: \"#E8E8E8\",\n            height: 25\n          },\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 37\n          }\n        }, reservation.itemGender)), _react.default.createElement(_reactNative.View, {\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 33\n          }\n        }, _react.default.createElement(_reactNative.Text, {\n          style: {\n            fontWeight: 'bold'\n          },\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 203,\n            columnNumber: 38\n          }\n        }, \"Item name: \"), _react.default.createElement(_reactNative.Text, {\n          style: {\n            backgroundColor: \"#E8E8E8\",\n            height: 25\n          },\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 204,\n            columnNumber: 37\n          }\n        }, reservation.itemName)), _react.default.createElement(_reactNative.View, {\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 33\n          }\n        }, _react.default.createElement(_reactNative.Text, {\n          style: {\n            fontWeight: 'bold',\n            marginBottom: 25\n          },\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 209,\n            columnNumber: 37\n          }\n        }, \"Reserved color and size: \"), reservation.itemInOrderDTOSet.map(function (item) {\n          return _react.default.createElement(_reactNative.View, {\n            key: item.color,\n            __self: _this3,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 211,\n              columnNumber: 41\n            }\n          }, _react.default.createElement(_reactNative.Text, {\n            style: {\n              fontWeight: 'bold'\n            },\n            __self: _this3,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 212,\n              columnNumber: 45\n            }\n          }, \"Item color: \"), _react.default.createElement(_reactNative.Text, {\n            style: {\n              backgroundColor: \"#E8E8E8\",\n              height: 25\n            },\n            __self: _this3,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 213,\n              columnNumber: 45\n            }\n          }, item.color, \"    \"), _react.default.createElement(_reactNative.Text, {\n            style: {\n              fontWeight: 'bold'\n            },\n            __self: _this3,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 214,\n              columnNumber: 45\n            }\n          }, \"Item size: \"), _react.default.createElement(_reactNative.Text, {\n            style: {\n              backgroundColor: \"#E8E8E8\",\n              height: 25\n            },\n            __self: _this3,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 215,\n              columnNumber: 45\n            }\n          }, \"  \", item.size), _react.default.createElement(_reactNative.Text, {\n            style: {\n              fontWeight: 'bold'\n            },\n            __self: _this3,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 217,\n              columnNumber: 45\n            }\n          }, \"Item quantity: \"), _react.default.createElement(_reactNative.Text, {\n            style: {\n              backgroundColor: \"#E8E8E8\",\n              height: 25,\n              marginBottom: 30\n            },\n            __self: _this3,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 218,\n              columnNumber: 45\n            }\n          }, item.quantity));\n        })), _this3.hasRole(\"ROLE_USER\") && _react.default.createElement(_reactNative.View, {\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 226,\n            columnNumber: 63\n          }\n        }, _react.default.createElement(_reactNative.TouchableHighlight, {\n          style: {\n            height: 40,\n            borderRadius: 80,\n            marginTop: 10\n          },\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 33\n          }\n        }, _react.default.createElement(_reactNative.Button, {\n          onPress: function onPress(e) {\n            return _this3.handleRemove(e, reservation);\n          },\n          id: \"sendMessageButton\",\n          type: \"button\",\n          title: \"Remove\",\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 233,\n            columnNumber: 34\n          }\n        }))), _this3.hasRole(\"ROLE_ADMIN\") && reservation.status != \"SENT\" && _react.default.createElement(_reactNative.View, {\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 96\n          }\n        }, _react.default.createElement(_reactNative.TouchableHighlight, {\n          style: {\n            height: 40,\n            borderRadius: 80,\n            marginTop: 10\n          },\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 245,\n            columnNumber: 33\n          }\n        }, _react.default.createElement(_reactNative.Button, {\n          onPress: function onPress(e) {\n            return _this3.handleRemove(e, reservation);\n          },\n          className: \"btn btn-primary btn-xl\",\n          id: \"sendMessageButton\",\n          type: \"button\",\n          title: \"Decline\",\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 34\n          }\n        }))), _this3.hasRole(\"ROLE_ADMIN\") && reservation.status != \"SENT\" && _react.default.createElement(_reactNative.View, {\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 96\n          }\n        }, _react.default.createElement(_reactNative.TouchableHighlight, {\n          style: {\n            height: 40,\n            borderRadius: 80,\n            marginTop: 10\n          },\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 264,\n            columnNumber: 33\n          }\n        }, _react.default.createElement(_reactNative.Button, {\n          onPress: function onPress(e) {\n            return _this3.handleQR(e, reservation);\n          },\n          className: \"btn btn-primary btn-xl\",\n          id: \"sendMessageButton\",\n          type: \"button\",\n          title: \"Order sent\",\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 270,\n            columnNumber: 33\n          }\n        }))));\n      })), _react.default.createElement(_ModalDialog.default, {\n        show: this.state.openModal,\n        onCloseModal: this.handleModalClose,\n        header: \"Success\",\n        text: \"You have successfully removed this order.\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 286,\n          columnNumber: 21\n        }\n      }), _react.default.createElement(_ModalDialog.default, {\n        show: this.state.openModal2,\n        onCloseModal: this.handleModalClose2,\n        header: \"Success\",\n        text: \"You have successfully sent this order and made a QR code.\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 293,\n          columnNumber: 21\n        }\n      }), _react.default.createElement(_DeliveryInsert.default, {\n        show: this.state.openModal3,\n        onCloseModal: this.handleModalClose3,\n        header: \"Insert a courier\",\n        text: \"Insert a courier: \",\n        couriers: this.state.couriers,\n        selectedCourier: this.state.selectedCourier,\n        handleColorChange: this.handleColorChange,\n        selectedOrder: this.state.selectedOrder,\n        send: this.send,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 21\n        }\n      })));\n    }\n  }]);\n  return AllOrders;\n}(_react.Component);\n\nvar _default = AllOrders;\nexports.default = _default;\n\nvar styles = _reactNative.StyleSheet.create({\n  container: {\n    marginLeft: 30,\n    marginRight: 30,\n    marginTop: 50\n  },\n  loginText: {\n    flex: 1,\n    padding: 3,\n    marginLeft: 50,\n    fontWeight: \"bold\"\n  },\n  image: {\n    marginTop: 20,\n    marginLeft: 50,\n    width: 300,\n    height: 200\n  },\n  loginBtn: {\n    borderRadius: 25\n  }\n});","map":{"version":3,"sources":["C:/Users/Luna/Desktop/Diplomski/Android/android_app/src/pages/AllOrders.js"],"names":["AllOrders","state","reservations","openModal","openModal2","openModal3","couriers","selectedCourier","selectedOrder","handleColorChange","e","u","setState","console","log","hasRole","reqRole","roles","JSON","parse","SyncStorage","get","role","handleModalClose","redirect","handleModalClose2","handleRemove","reservation","Axios","BASE_URL","reservationId","then","res","alert","catch","err","handleQR","send","courier","order","id","forEach","cour","company","data","validateStatus","headers","Authorization","Moment","locale","dt","styles","container","map","user","image","uri","files","fontWeight","backgroundColor","height","status","dateOfReservation","format","dueDate","phone","itemType","itemGender","itemName","marginBottom","itemInOrderDTOSet","item","color","size","quantity","borderRadius","marginTop","handleModalClose3","Component","StyleSheet","create","marginLeft","marginRight","loginText","flex","padding","width","loginBtn"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport Axios from \"axios\";\r\nimport { BASE_URL } from \"../../constants.js\";\r\nimport PharmacyLogo from \"../static/naslovna-duks.png\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport Order from \"../components/Order\";\r\nimport ModalDialog from \"../components/ModalDialog\";\r\nimport DeliveryInsert from \"../components/DeliveryInsert\";\r\nimport getAuthHeader from \"../../GetHeader\";\r\nimport Moment from 'moment';\r\nimport { DataTable } from 'react-native-paper';\r\nimport {\r\n    StyleSheet,\r\n    Text,\r\n    View,\r\n    StatusBar,\r\n    TouchableOpacity,\r\n    Button,\r\n    TextInput,\r\n    Image,\r\n    Table,\r\n    ScrollView,\r\n    TouchableHighlight\r\n} from 'react-native';\r\nimport SyncStorage from 'sync-storage';\r\nclass AllOrders extends Component {\r\n    state = {\r\n        reservations: [],\r\n        openModal: false,\r\n        openModal2: false,\r\n        openModal3: false,\r\n        couriers: [],\r\n        selectedCourier: \"\",\r\n        selectedOrder: \"\",\r\n\r\n    };\r\n    handleColorChange = (e) => {\r\n\r\n        let u = [];\r\n        this.setState({ selectedCourier: e }, () => {\r\n            console.log(this.state);\r\n        });\r\n\r\n\r\n    };\r\n\r\n    hasRole = (reqRole) => {\r\n        let roles = JSON.parse(SyncStorage.get(\"keyRole\"));\r\n\r\n        if (roles === null) return false;\r\n\r\n        if (reqRole === \"*\") return true;\r\n\r\n        for (let role of roles) {\r\n            if (role === reqRole) return true;\r\n        }\r\n        return false;\r\n    };\r\n\r\n    componentDidMount() {\r\n        if (!this.hasRole(\"ROLE_USER\")) {\r\n            this.setState({ redirect: true });\r\n        } else {\r\n            Axios.get(BASE_URL + \"/api/reservations/allUser\", { validateStatus: () => true, headers: { Authorization: getAuthHeader() } })\r\n                .then((res) => {\r\n                    this.setState({ reservations: res.data });\r\n                    console.log(res.data);\r\n                })\r\n                .catch((err) => {\r\n                    console.log(err);\r\n                });\r\n        }\r\n\r\n        if (!this.hasRole(\"ROLE_ADMIN\")) {\r\n            this.setState({ redirect: true });\r\n        } else {\r\n            Axios.get(BASE_URL + \"/api/reservations/all\", { validateStatus: () => true, headers: { Authorization: getAuthHeader() } })\r\n                .then((res) => {\r\n                    this.setState({ reservations: res.data });\r\n                    console.log(res.data);\r\n                })\r\n                .catch((err) => {\r\n                    console.log(err);\r\n                });\r\n        }\r\n\r\n\r\n        if (!this.hasRole(\"ROLE_ADMIN\")) {\r\n            this.setState({ redirect: true });\r\n        } else {\r\n            Axios.get(BASE_URL + \"/api/reservations/couriers\", { validateStatus: () => true, headers: { Authorization: getAuthHeader() } })\r\n                .then((res) => {\r\n                    console.log(\"EEEEEE\")\r\n                    this.setState({ couriers: res.data });\r\n                    console.log(res.data);\r\n                })\r\n                .catch((err) => {\r\n                    console.log(err);\r\n                });\r\n        }\r\n\r\n    };\r\n\r\n\r\n    handleModalClose = () => {\r\n        this.setState({ openModal: false, redirect: false });\r\n    };\r\n    handleModalClose2 = () => {\r\n        this.setState({ openModal2: false, redirect: false });\r\n\r\n    };\r\n    handleRemove = (e, reservation) => {\r\n\r\n        Axios.get(BASE_URL + \"/api/reservations/remove/\" + reservation.reservationId)\r\n            .then((res) => {\r\n                console.log(\"USPELOOOOOOOOO\")\r\n                alert(\"You have succesfully removed order.\")\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n            });\r\n\r\n    };\r\n\r\n    handleQR = (e, reservation) => {\r\n        this.setState({ selectedOrder: reservation });\r\n        this.setState({ openModal3: true });\r\n\r\n\r\n\r\n    };\r\n\r\n    send = (e, courier, order) => {\r\n\r\n        console.log(\"flskfksehhke\")\r\n        let id = \"\"\r\n        this.state.couriers.forEach((cour) => {\r\n            if (cour.company === courier) {\r\n                id = cour.id\r\n            }\r\n        })\r\n\r\n\r\n\r\n        Axios.get(BASE_URL + \"/api/reservations/generateQR/\" + order.reservationId + \"/\" + id)\r\n            .then((res) => {\r\n\r\n                console.log(res.data);\r\n               alert(\"You have successfully sent an order.\")\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n            });\r\n\r\n    };\r\n\r\n    render() {\r\n\r\n        Moment.locale('en');\r\n        var dt = '2016-05-02';\r\n        return (\r\n\r\n            <View style={styles.container}>\r\n                <ScrollView>\r\n\r\n\r\n                    <DataTable >\r\n\r\n                        {this.state.reservations.map((reservation) => (\r\n                            <View key={reservation.user}>\r\n                                <Image style={styles.image} source={{ uri: reservation.files[0] }} />\r\n\r\n\r\n                                {!this.hasRole(\"ROLE_USER\") &&  <View>\r\n                                    <Text style={{ fontWeight: 'bold' }}>STATUS: </Text>\r\n                                    <Text style={{ backgroundColor: \"#E8E8E8\", height: 25 }}> {reservation.status}</Text>\r\n                                </View>}\r\n                                <View>\r\n                                    <Text style={{ fontWeight: 'bold' }}>Date of reservation: </Text>\r\n                                    <Text style={{ backgroundColor: \"#E8E8E8\", height: 25 }}> {Moment(reservation.dateOfReservation, \"YYYYMMDD\").format('MMMM Do YYYY')} </Text>\r\n                                </View>\r\n                                <View>\r\n                                    <Text style={{ fontWeight: 'bold' }}>Due date: </Text>\r\n                                    <Text style={{ backgroundColor: \"#E8E8E8\", height: 25 }}>{Moment(reservation.dueDate, \"YYYYMMDD\").format('MMMM Do YYYY')} </Text>\r\n                                </View>\r\n                                {!this.hasRole(\"ROLE_USER\") && <View>\r\n                                    <Text style={{ fontWeight: 'bold' }}>User: </Text>\r\n                                     <Text style={{ backgroundColor: \"#E8E8E8\", height: 25 }}>{reservation.user}</Text>\r\n                                </View>}\r\n                                {!this.hasRole(\"ROLE_USER\") &&  <View>\r\n                                    <Text style={{ fontWeight: 'bold' }}>Contact number: </Text>\r\n                                    <Text style={{ backgroundColor: \"#E8E8E8\", height: 25 }}> {reservation.phone}</Text>\r\n                                </View>}\r\n                                <View>  \r\n                                    <Text style={{ fontWeight: 'bold' }}>Item type: </Text>\r\n                                    <Text style={{ backgroundColor: \"#E8E8E8\", height: 25 }}>{reservation.itemType} </Text>\r\n                                    </View>\r\n                                <View>  \r\n                                    <Text style={{ fontWeight: 'bold' }}>Item gender: </Text>\r\n                                    <Text style={{ backgroundColor: \"#E8E8E8\", height: 25 }}>{reservation.itemGender}</Text>\r\n                                    </View>\r\n                                <View> \r\n                                     <Text style={{ fontWeight: 'bold' }}>Item name: </Text>\r\n                                    <Text style={{ backgroundColor: \"#E8E8E8\", height: 25 }}>{reservation.itemName}</Text>\r\n                                    </View>\r\n\r\n\r\n                                <View>\r\n                                    <Text style={{ fontWeight: 'bold', marginBottom: 25 }}>Reserved color and size: </Text>\r\n                                    {reservation.itemInOrderDTOSet.map((item) => (\r\n                                        <View key={item.color}>  \r\n                                            <Text style={{ fontWeight: 'bold' }}>Item color: </Text>\r\n                                            <Text style={{ backgroundColor: \"#E8E8E8\", height: 25 }}>{item.color}    </Text>\r\n                                            <Text style={{ fontWeight: 'bold' }}>Item size: </Text>\r\n                                            <Text style={{ backgroundColor: \"#E8E8E8\", height: 25 }}>  {item.size}</Text>\r\n\r\n                                            <Text style={{ fontWeight: 'bold' }}>Item quantity: </Text>\r\n                                            <Text style={{ backgroundColor: \"#E8E8E8\", height: 25 , marginBottom: 30}}>{item.quantity}</Text>\r\n                                            </View>\r\n\r\n\r\n                                    ))}\r\n\r\n                                </View>\r\n\r\n                                {this.hasRole(\"ROLE_USER\") && <View > \r\n                                <TouchableHighlight\r\n\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\theight: 40,\r\n\t\t\t\t\t\t\t\t\t\t\tborderRadius: 80,\r\n\t\t\t\t\t\t\t\t\t\t\tmarginTop: 10\r\n\t\t\t\t\t\t\t\t\t\t}}>\r\n                                 <Button\r\n\r\n                                    onPress={(e) => this.handleRemove(e, reservation)}\r\n                                    id=\"sendMessageButton\"\r\n                                    type=\"button\"\r\n                                    title=\"Remove\"\r\n                                >\r\n                                </Button>\r\n                                </TouchableHighlight>\r\n                                </View>}\r\n\r\n                                {this.hasRole(\"ROLE_ADMIN\") && reservation.status != \"SENT\" && <View > \r\n                                <TouchableHighlight\r\n\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\theight: 40,\r\n\t\t\t\t\t\t\t\t\t\t\tborderRadius: 80,\r\n\t\t\t\t\t\t\t\t\t\t\tmarginTop: 10\r\n\t\t\t\t\t\t\t\t\t\t}}>\r\n                                 <Button\r\n\r\n                                    onPress={(e) => this.handleRemove(e, reservation)}\r\n                                    className=\"btn btn-primary btn-xl\"\r\n                                    id=\"sendMessageButton\"\r\n                                    type=\"button\"\r\n                                    title=\"Decline\"\r\n                                >\r\n                                </Button>\r\n                                </TouchableHighlight>\r\n                                </View>}\r\n\r\n                                {this.hasRole(\"ROLE_ADMIN\") && reservation.status != \"SENT\" && <View >  \r\n                                <TouchableHighlight\r\n\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\theight: 40,\r\n\t\t\t\t\t\t\t\t\t\t\tborderRadius: 80,\r\n\t\t\t\t\t\t\t\t\t\t\tmarginTop: 10\r\n\t\t\t\t\t\t\t\t\t\t}}>\r\n                                <Button\r\n                                    onPress={(e) => this.handleQR(e, reservation)}\r\n                                    className=\"btn btn-primary btn-xl\"\r\n                                    id=\"sendMessageButton\"\r\n                                    type=\"button\"\r\n                                    title=\"Order sent\"\r\n                                >\r\n                                </Button>\r\n                                </TouchableHighlight>\r\n                                </View>}\r\n                            </View>\r\n\r\n                        ))}\r\n                    </DataTable>\r\n\r\n\r\n                    <ModalDialog\r\n                        show={this.state.openModal}\r\n                        onCloseModal={this.handleModalClose}\r\n                        header=\"Success\"\r\n                        text=\"You have successfully removed this order.\"\r\n                    />\r\n\r\n                    <ModalDialog\r\n                        show={this.state.openModal2}\r\n                        onCloseModal={this.handleModalClose2}\r\n                        header=\"Success\"\r\n                        text=\"You have successfully sent this order and made a QR code.\"\r\n                    />\r\n\r\n                    <DeliveryInsert\r\n                        show={this.state.openModal3}\r\n                        onCloseModal={this.handleModalClose3}\r\n                        header=\"Insert a courier\"\r\n                        text=\"Insert a courier: \"\r\n                        couriers={this.state.couriers}\r\n                        selectedCourier={this.state.selectedCourier}\r\n                        handleColorChange={this.handleColorChange}\r\n                        selectedOrder={this.state.selectedOrder}\r\n                        send={this.send}\r\n                    />\r\n                </ScrollView>\r\n            </View>\r\n        );\r\n    }\r\n}\r\n\r\nexport default AllOrders;\r\n\r\nconst styles = StyleSheet.create({\r\n    container: {\r\n        marginLeft: 30,\r\n        marginRight: 30,\r\n        marginTop: 50\r\n    },\r\n\tloginText: {\r\n\t\tflex: 1,\r\n\t\tpadding: 3,\r\n\t\tmarginLeft: 50,\r\n\t\tfontWeight: \"bold\"\r\n\t},\r\n\timage: {\r\n\t\tmarginTop: 20,\r\n\t\tmarginLeft: 50,\r\n\t\twidth: 300,\r\n\t\theight: 200,\r\n\t},\r\n\tloginBtn: {\r\n\r\n\t\tborderRadius: 25,\r\n\r\n\t},\r\n\r\n});\r\n\r\n"]},"metadata":{},"sourceType":"script"}