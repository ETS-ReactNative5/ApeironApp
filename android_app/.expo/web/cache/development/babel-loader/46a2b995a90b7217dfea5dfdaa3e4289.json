{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _reactNative = require(\"react-native\");\n\nvar _axios = _interopRequireDefault(require(\"axios\"));\n\nvar _syncStorage = _interopRequireDefault(require(\"sync-storage\"));\n\nvar _constants = require(\"../../constants.js\");\n\nvar _reactRouterDom = require(\"react-router-dom\");\n\nvar _Order = _interopRequireDefault(require(\"../components/Order\"));\n\nvar _GetHeader = _interopRequireDefault(require(\"../../GetHeader\"));\n\nvar _ModalDialog = _interopRequireDefault(require(\"../components/ModalDialog\"));\n\nvar _reactNativePaper = require(\"react-native-paper\");\n\nvar _jsxFileName = \"C:\\\\Users\\\\Luna\\\\Desktop\\\\Diplomski\\\\Android\\\\android_app\\\\src\\\\pages\\\\Delivery.js\";\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _createForOfIteratorHelperLoose(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (it) return (it = it.call(o)).next.bind(it); if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; return function () { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nvar Delivery = function (_Component) {\n  (0, _inherits2.default)(Delivery, _Component);\n\n  var _super = _createSuper(Delivery);\n\n  function Delivery() {\n    var _this;\n\n    (0, _classCallCheck2.default)(this, Delivery);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      tshirts: [],\n      formShowed: false,\n      name: \"\",\n      city: \"\",\n      gradeFrom: \"\",\n      gradeTo: \"\",\n      distanceFrom: \"\",\n      distanceTo: \"\",\n      showingSearched: false,\n      showingSorted: false,\n      currentLatitude: null,\n      currentLongitude: null,\n      sortIndicator: 0,\n      redirect: false,\n      redirectUrl: \"\",\n      showOrderModal: false,\n      handleOrderModalClose: false,\n      shirt: \"\",\n      selectedColor: \"\",\n      showedColors: [],\n      colors: [],\n      selectedSize: \"\",\n      showedSizes: [],\n      sizes: [],\n      openModal: false\n    };\n\n    _this.hasRole = function (reqRole) {\n      var roles = JSON.parse(_syncStorage.default.get(\"keyRole\"));\n      if (roles === null) return false;\n      if (reqRole === \"*\") return true;\n\n      for (var _iterator = _createForOfIteratorHelperLoose(roles), _step; !(_step = _iterator()).done;) {\n        var role = _step.value;\n        if (role === reqRole) return true;\n      }\n\n      return false;\n    };\n\n    _this.handleNameChange = function (event) {\n      _this.setState({\n        name: event.nativeEvent.text\n      });\n    };\n\n    _this.handleModalClose = function () {\n      _this.setState({\n        openModal: false\n      });\n    };\n\n    _this.hangleFormToogle = function () {\n      _this.setState({\n        formShowed: !_this.state.formShowed\n      });\n    };\n\n    _this.handleDelete = function (e, id) {\n      _axios.default.get(_constants.BASE_URL + \"/api/users/delete/\" + id, {\n        headers: {\n          Authorization: (0, _GetHeader.default)()\n        }\n      }).then(function (res) {\n        alert(\"You have successfuly removed courier\");\n      }).catch(function (err) {\n        console.log(err);\n      });\n    };\n\n    _this.handleGradeFromChange = function (event) {\n      if (event.nativeEvent.text < 0) _this.setState({\n        gradeFrom: 0\n      });else _this.setState({\n        gradeFrom: event.nativeEvent.text\n      });\n    };\n\n    _this.handleGradeToChange = function (event) {\n      if (event.nativeEvent.text > 5) _this.setState({\n        gradeTo: 5\n      });else _this.setState({\n        gradeTo: event.nativeEvent.text\n      });\n    };\n\n    _this.handleDistanceFromChange = function (event) {\n      _this.setState({\n        distanceFrom: event.nativeEvent.text\n      });\n    };\n\n    _this.handleDistanceToChange = function (event) {\n      _this.setState({\n        distanceTo: event.nativeEvent.text\n      });\n    };\n\n    _this.handleCityChange = function (event) {\n      _this.setState({\n        city: event.nativeEvent.text\n      });\n    };\n\n    _this.handleClickOnPharmacy = function (id) {\n      _this.setState({\n        shirt: id\n      });\n\n      _this.setState({\n        showOrderModal: true\n      });\n\n      _this.setState({\n        colors: id.colors\n      });\n    };\n\n    _this.handleOrderModalClose = function () {\n      _this.setState({\n        showOrderModal: false\n      });\n    };\n\n    _this.handleColorChange = function (e) {\n      var u = [];\n\n      _this.setState({\n        selectedColor: event.nativeEvent.text\n      }, function () {\n        console.log(_this.state);\n      });\n\n      _this.state.colors.forEach(function (chain) {\n        if (chain.color === e.target.value) {\n          u.push(chain.sizes);\n        }\n      });\n\n      _this.state.sizes = u;\n\n      _this.setState({\n        sizes: u\n      });\n\n      _this.setState({\n        showedSizes: u\n      });\n\n      _this.changeEndEntityChain(e.target.value);\n    };\n\n    _this.changeEndEntityChain = function (e) {\n      if (e === \"\") {\n        _this.setState({\n          showedColors: _this.state.colors\n        });\n      } else {\n        var u = [];\n\n        _this.state.colors.forEach(function (chain) {\n          if (chain.color !== e) {\n            u.push(chain);\n          }\n        });\n\n        _this.setState({\n          showedColors: u\n        });\n      }\n    };\n\n    _this.handleSizeChange = function (e) {\n      _this.setState({\n        selectedSize: event.nativeEvent.text\n      }, function () {\n        console.log(_this.state);\n      });\n\n      _this.changeEndEntitySizeChain(e.target.value);\n    };\n\n    _this.changeEndEntitySizeChain = function (e) {\n      if (e === \"\") {\n        _this.setState({\n          showedSizes: _this.state.sizes\n        });\n      } else {\n        var u = [];\n\n        _this.state.sizes.forEach(function (chain) {\n          if (chain.size !== e) {\n            u.push(chain);\n          }\n        });\n\n        _this.setState({\n          showedSizes: u\n        });\n      }\n    };\n\n    return _this;\n  }\n\n  (0, _createClass2.default)(Delivery, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      if (!this.hasRole(\"ROLE_ADMIN\")) {\n        this.setState({\n          redirect: true\n        });\n      } else {\n        _axios.default.get(_constants.BASE_URL + \"/api/users/delivery\", {\n          headers: {\n            Authorization: (0, _GetHeader.default)()\n          }\n        }).then(function (res) {\n          _this2.setState({\n            tshirts: res.data\n          });\n\n          console.log(res.data);\n        }).catch(function (err) {\n          console.log(err);\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return _react.default.createElement(_reactNative.ScrollView, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 4\n        }\n      }, _react.default.createElement(_reactNative.View, {\n        style: styles.container,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 4\n        }\n      }, _react.default.createElement(_reactNative.View, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 5\n        }\n      }, _react.default.createElement(_reactNativePaper.DataTable, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 6\n        }\n      }, this.state.tshirts.map(function (pharmacy) {\n        return _react.default.createElement(_reactNative.View, {\n          key: pharmacy.company,\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 216,\n            columnNumber: 8\n          }\n        }, _react.default.createElement(_reactNative.View, {\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 217,\n            columnNumber: 9\n          }\n        }, _react.default.createElement(_reactNative.Text, {\n          style: {\n            fontWeight: 'bold'\n          },\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 10\n          }\n        }, \"Company name: \"), _react.default.createElement(_reactNative.Text, {\n          style: styles.inputView,\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 219,\n            columnNumber: 10\n          }\n        }, pharmacy.company)), _react.default.createElement(_reactNative.View, {\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 9\n          }\n        }, _react.default.createElement(_reactNative.Text, {\n          style: {\n            fontWeight: 'bold'\n          },\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 222,\n            columnNumber: 10\n          }\n        }, \"Phone: \"), _react.default.createElement(_reactNative.Text, {\n          style: styles.inputView,\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 223,\n            columnNumber: 10\n          }\n        }, \" \", pharmacy.phoneNumber)), _react.default.createElement(_reactNative.View, {\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 9\n          }\n        }, _react.default.createElement(_reactNative.Text, {\n          style: {\n            fontWeight: 'bold'\n          },\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 226,\n            columnNumber: 10\n          }\n        }, \"Address: \"), _react.default.createElement(_reactNative.Text, {\n          style: styles.inputView,\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 10\n          }\n        }, \" \", pharmacy.address.city, \", \", pharmacy.address.country, \", \", pharmacy.address.street)), _this3.hasRole(\"ROLE_ADMIN\") && _react.default.createElement(_reactNative.View, {\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 230,\n            columnNumber: 40\n          }\n        }, _react.default.createElement(_reactNative.TouchableHighlight, {\n          style: {\n            height: 40,\n            borderRadius: 80,\n            marginTop: 10,\n            marginBottom: 30\n          },\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 231,\n            columnNumber: 9\n          }\n        }, _react.default.createElement(_reactNative.Button, {\n          onPress: function onPress(e) {\n            return _this3.handleDelete(e, pharmacy.id);\n          },\n          className: \"btn btn-primary btn-xl\",\n          id: \"sendMessageButton\",\n          type: \"button\",\n          title: \"Delete\",\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 238,\n            columnNumber: 10\n          }\n        }))));\n      })))));\n    }\n  }]);\n  return Delivery;\n}(_react.Component);\n\nvar _default = Delivery;\nexports.default = _default;\n\nvar styles = _reactNative.StyleSheet.create({\n  container: {\n    marginLeft: 30,\n    marginRight: 30,\n    marginTop: 50\n  },\n  text: {\n    fontSize: 16\n  },\n  signupText: {\n    color: 'rgba(255,255,255,0.6)',\n    fontSize: 16\n  },\n  signupButton: {\n    color: '#ffffff',\n    fontSize: 16,\n    fontWeight: '500'\n  },\n  inputView: {\n    backgroundColor: \"#D3D3D3\",\n    borderRadius: 5,\n    height: 45,\n    marginTop: 10,\n    marginBottom: 10,\n    alignItems: \"center\",\n    color: \"black\"\n  },\n  google: {\n    borderRadius: 30,\n    marginBottom: 50\n  }\n});","map":{"version":3,"sources":["C:/Users/Luna/Desktop/Diplomski/Android/android_app/src/pages/Delivery.js"],"names":["Delivery","state","tshirts","formShowed","name","city","gradeFrom","gradeTo","distanceFrom","distanceTo","showingSearched","showingSorted","currentLatitude","currentLongitude","sortIndicator","redirect","redirectUrl","showOrderModal","handleOrderModalClose","shirt","selectedColor","showedColors","colors","selectedSize","showedSizes","sizes","openModal","hasRole","reqRole","roles","JSON","parse","SyncStorage","get","role","handleNameChange","event","setState","nativeEvent","text","handleModalClose","hangleFormToogle","handleDelete","e","id","Axios","BASE_URL","headers","Authorization","then","res","alert","catch","err","console","log","handleGradeFromChange","handleGradeToChange","handleDistanceFromChange","handleDistanceToChange","handleCityChange","handleClickOnPharmacy","handleColorChange","u","forEach","chain","color","target","value","push","changeEndEntityChain","handleSizeChange","changeEndEntitySizeChain","size","data","styles","container","map","pharmacy","company","fontWeight","inputView","phoneNumber","address","country","street","height","borderRadius","marginTop","marginBottom","Component","StyleSheet","create","marginLeft","marginRight","fontSize","signupText","signupButton","backgroundColor","alignItems","google"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\n\r\nimport {\r\n\tStyleSheet,\r\n\tText,\r\n\tView,\r\n\tStatusBar,\r\n\tTouchableOpacity,\r\n\tButton,\r\n\tTextInput,\r\n\tImage,\r\n\tTable,\r\n\tScrollView,\r\n\tTouchableHighlight\r\n} from 'react-native';\r\nimport Axios from \"axios\";\r\nimport SyncStorage from 'sync-storage';\r\nimport { BASE_URL } from \"../../constants.js\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport Order from \"../components/Order\";\r\nimport getAuthHeader from \"../../GetHeader\";\r\nimport ModalDialog from \"../components/ModalDialog\";\r\n\r\nimport { DataTable } from 'react-native-paper';\r\nclass Delivery extends Component {\r\n\tstate = {\r\n\t\ttshirts: [],\r\n\t\tformShowed: false,\r\n\t\tname: \"\",\r\n\t\tcity: \"\",\r\n\t\tgradeFrom: \"\",\r\n\t\tgradeTo: \"\",\r\n\t\tdistanceFrom: \"\",\r\n\t\tdistanceTo: \"\",\r\n\t\tshowingSearched: false,\r\n\t\tshowingSorted: false,\r\n\t\tcurrentLatitude: null,\r\n\t\tcurrentLongitude: null,\r\n\t\tsortIndicator: 0,\r\n\t\tredirect: false,\r\n\t\tredirectUrl: \"\",\r\n\t\tshowOrderModal: false,\r\n\t\thandleOrderModalClose: false,\r\n\t\tshirt: \"\",\r\n\t\tselectedColor: \"\",\r\n\t\tshowedColors: [],\r\n\t\tcolors: [],\r\n\t\tselectedSize: \"\",\r\n\t\tshowedSizes: [],\r\n\t\tsizes: [],\r\n\t\topenModal: false,\r\n\r\n\r\n\t};\r\n\r\n\thasRole = (reqRole) => {\r\n\t\tlet roles = JSON.parse(SyncStorage.get(\"keyRole\"));\r\n\r\n\t\tif (roles === null) return false;\r\n\r\n\t\tif (reqRole === \"*\") return true;\r\n\r\n\t\tfor (let role of roles) {\r\n\t\t\tif (role === reqRole) return true;\r\n\t\t}\r\n\t\treturn false;\r\n\t};\r\n\r\n\thandleNameChange = (event) => {\r\n\t\tthis.setState({ name: event.nativeEvent.text });\r\n\t};\r\n\thandleModalClose = () => {\r\n\t\tthis.setState({ openModal: false });\r\n\r\n\t};\r\n\r\n\r\n\tcomponentDidMount() {\r\n\t\tif (!this.hasRole(\"ROLE_ADMIN\")) {\r\n\t\t\tthis.setState({ redirect: true });\r\n\t\t} else {\r\n\t\t\tAxios.get(BASE_URL + \"/api/users/delivery\", { headers: { Authorization: getAuthHeader() } })\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tthis.setState({ tshirts: res.data });\r\n\t\t\t\t\tconsole.log(res.data);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t});\r\n\r\n\t\t}\r\n\t}\r\n\r\n\thangleFormToogle = () => {\r\n\t\tthis.setState({ formShowed: !this.state.formShowed });\r\n\t};\r\n\r\n\thandleDelete = (e,id) => {\r\n\t\tAxios.get(BASE_URL + \"/api/users/delete/\" + id,{ headers: { Authorization: getAuthHeader() }  })\r\n\t\t\t.then((res) => {\r\n\t\t\t\t\r\n\t\t\t\talert(\"You have successfuly removed courier\")\r\n\t\t\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n\r\n\t};\r\n\r\n\r\n\thandleGradeFromChange = (event) => {\r\n\t\tif (event.nativeEvent.text < 0) this.setState({ gradeFrom: 0 });\r\n\t\telse this.setState({ gradeFrom: event.nativeEvent.text });\r\n\t};\r\n\r\n\thandleGradeToChange = (event) => {\r\n\t\tif (event.nativeEvent.text > 5) this.setState({ gradeTo: 5 });\r\n\t\telse this.setState({ gradeTo: event.nativeEvent.text });\r\n\t};\r\n\r\n\thandleDistanceFromChange = (event) => {\r\n\t\tthis.setState({ distanceFrom: event.nativeEvent.text });\r\n\t};\r\n\r\n\thandleDistanceToChange = (event) => {\r\n\t\tthis.setState({ distanceTo: event.nativeEvent.text });\r\n\t};\r\n\r\n\thandleCityChange = (event) => {\r\n\t\tthis.setState({ city: event.nativeEvent.text });\r\n\t};\r\n\r\n\r\n\r\n\thandleClickOnPharmacy = (id) => {\r\n\t\tthis.setState({ shirt: id });\r\n\t\tthis.setState({ showOrderModal: true });\r\n\t\tthis.setState({ colors: id.colors });\r\n\r\n\t};\r\n\r\n\thandleOrderModalClose = () => {\r\n\t\tthis.setState({ showOrderModal: false });\r\n\t};\r\n\r\n\thandleColorChange = (e) => {\r\n\r\n\t\tlet u = [];\r\n\t\tthis.setState({ selectedColor: event.nativeEvent.text }, () => {\r\n\t\t\tconsole.log(this.state);\r\n\t\t});\r\n\t\tthis.state.colors.forEach((chain) => {\r\n\t\t\tif (chain.color === e.target.value) {\r\n\t\t\t\tu.push(chain.sizes);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\r\n\t\tthis.state.sizes = u;\r\n\t\tthis.setState({ sizes: u });\r\n\t\tthis.setState({ showedSizes: u });\r\n\t\tthis.changeEndEntityChain(e.target.value);\r\n\t};\r\n\r\n\tchangeEndEntityChain = (e) => {\r\n\t\tif (e === \"\") {\r\n\t\t\tthis.setState({ showedColors: this.state.colors });\r\n\t\t} else {\r\n\t\t\tlet u = [];\r\n\t\t\tthis.state.colors.forEach((chain) => {\r\n\t\t\t\tif (chain.color !== e) {\r\n\t\t\t\t\tu.push(chain);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tthis.setState({ showedColors: u });\r\n\t\t}\r\n\t};\r\n\r\n\thandleSizeChange = (e) => {\r\n\t\tthis.setState({ selectedSize: event.nativeEvent.text }, () => {\r\n\t\t\tconsole.log(this.state);\r\n\t\t});\r\n\t\tthis.changeEndEntitySizeChain(e.target.value);\r\n\t};\r\n\r\n\tchangeEndEntitySizeChain = (e) => {\r\n\t\tif (e === \"\") {\r\n\t\t\tthis.setState({ showedSizes: this.state.sizes });\r\n\t\t} else {\r\n\t\t\tlet u = [];\r\n\t\t\tthis.state.sizes.forEach((chain) => {\r\n\t\t\t\tif (chain.size !== e) {\r\n\t\t\t\t\tu.push(chain);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tthis.setState({ showedSizes: u });\r\n\t\t}\r\n\t};\r\n\r\n\r\n\trender() {\r\n\r\n\t\treturn (\r\n\t\t\t<ScrollView>\r\n\t\t\t<View  style={styles.container}>\r\n\r\n\t\t\t\t<View>\r\n\r\n\r\n\t\t\t\t\t<DataTable  >\r\n\t\t\t\t\t\t{this.state.tshirts.map((pharmacy) => (\r\n\r\n\t\t\t\t\t\t\t<View key={pharmacy.company}>\r\n\t\t\t\t\t\t\t\t<View>\r\n\t\t\t\t\t\t\t\t\t<Text  style={{ fontWeight: 'bold' }}>Company name: </Text>\r\n\t\t\t\t\t\t\t\t\t<Text \tstyle={styles.inputView}>{pharmacy.company}</Text>\r\n\t\t\t\t\t\t\t\t</View>\r\n\t\t\t\t\t\t\t\t<View>\r\n\t\t\t\t\t\t\t\t\t<Text  style={{ fontWeight: 'bold' }}>Phone: </Text>\r\n\t\t\t\t\t\t\t\t\t<Text \tstyle={styles.inputView}> {pharmacy.phoneNumber}</Text>\r\n\t\t\t\t\t\t\t\t</View>\r\n\t\t\t\t\t\t\t\t<View>\r\n\t\t\t\t\t\t\t\t\t<Text  style={{ fontWeight: 'bold' }}>Address: </Text>\r\n\t\t\t\t\t\t\t\t\t<Text \tstyle={styles.inputView}> {pharmacy.address.city}, {pharmacy.address.country}, {pharmacy.address.street}</Text>\r\n\t\t\t\t\t\t\t\t</View>\r\n\r\n\t\t\t\t\t\t\t\t{this.hasRole(\"ROLE_ADMIN\") && <View >\r\n\t\t\t\t\t\t\t\t<TouchableHighlight\r\n\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\theight: 40,\r\n\t\t\t\t\t\t\t\t\t\t\tborderRadius: 80,\r\n\t\t\t\t\t\t\t\t\t\t\tmarginTop: 10,\r\n\t\t\t\t\t\t\t\t\t\t\tmarginBottom: 30\r\n\t\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tonPress={(e) => this.handleDelete(e, pharmacy.id)}\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"btn btn-primary btn-xl\"\r\n\t\t\t\t\t\t\t\t\t\tid=\"sendMessageButton\"\r\n\t\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\t\ttitle=\"Delete\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t</TouchableHighlight>\r\n\t\t\t\t\t\t\t\t\t</View>}\r\n\t\t\t\t\t\t\t</View>\r\n\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</\tDataTable >\r\n\t\t\t\t</View>\r\n\t\t\t\r\n\r\n\r\n\t\t\t</View>\r\n\t\t\t\r\n</ScrollView>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Delivery;\r\n\r\nconst styles = StyleSheet.create({\r\n\tcontainer: {\r\n\t\tmarginLeft: 30,\r\n\t\tmarginRight: 30,\r\n\t\tmarginTop: 50\r\n\t},\r\n\ttext: {\r\n\t\tfontSize: 16\r\n\t},\r\n\tsignupText: {\r\n\t\tcolor: 'rgba(255,255,255,0.6)',\r\n\t\tfontSize: 16\r\n\t},\r\n\tsignupButton: {\r\n\t\tcolor: '#ffffff',\r\n\t\tfontSize: 16,\r\n\t\tfontWeight: '500'\r\n\t},\r\n\tinputView: {\r\n\t\tbackgroundColor: \"#D3D3D3\",\r\n\t\tborderRadius: 5,\r\n\t\theight: 45,\r\n\t\tmarginTop: 10,\r\n\t\tmarginBottom: 10,\r\n\t\talignItems: \"center\",\r\n\t\tcolor: \"black\"\r\n\t},\r\n\tgoogle: {\r\n\t\tborderRadius: 30,\r\n\t\tmarginBottom: 50\r\n\t}\r\n});\r\n\r\n"]},"metadata":{},"sourceType":"script"}